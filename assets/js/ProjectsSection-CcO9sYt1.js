import{j as e}from"./index-DwnvuZxL.js";import{r as t,a as s}from"./charts-Da9JWBQx.js";import"./vendor-DholdlZV.js";import"./parallax-BxANXTDa.js";const i=({activeCategory:i,handleCategoryChange:r,filteredProjects:a,categories:c,scrollDirection:o,visibleSections:l})=>{const[n,d]=t.useState(null),[m,p]=t.useState(""),[j,u]=t.useState(!1),h=t.useRef(null),g=()=>{n&&!j&&(u(!0),h.current&&window.clearTimeout(h.current),h.current=window.setTimeout(()=>{d(null),p(""),u(!1),h.current=null},250))};return t.useEffect(()=>()=>{h.current&&window.clearTimeout(h.current)},[]),t.useEffect(()=>{if(!n)return;const e=e=>{"Escape"===e.key&&g()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]),t.useEffect(()=>{const e=document.body.style.overflow;return document.body.style.overflow=n?"hidden":e||"",()=>{document.body.style.overflow=e||""}},[n]),e.jsx("section",{id:"projects",className:`projects ${l.has("projects")?"visible":""} ${"up"===o?"scroll-up":""}`,children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"fade-in section-title",children:"Featured Projects"}),e.jsx("div",{className:"project-categories",children:c.map(t=>e.jsx("button",{className:"category-btn "+(i===t.id?"active":""),onClick:()=>r(t.id),children:t.name},t.id))}),e.jsxs("div",{className:"projects-grid",children:[a.map((t,s)=>e.jsxs("div",{className:"fade-in project-card",children:[e.jsx("div",{className:"project-image",children:t.image.startsWith("/")||t.image.startsWith("http")?e.jsx("img",{src:t.image,alt:t.title,className:"project-img",loading:"lazy"}):e.jsx("div",{className:"project-placeholder",children:t.image})}),e.jsxs("div",{className:"project-content",children:[e.jsx("h3",{className:"project-title",children:t.title}),e.jsx("p",{className:"project-description",children:t.description}),e.jsx("button",{type:"button",className:"project-link",onClick:()=>{h.current&&(window.clearTimeout(h.current),h.current=null),t.image.startsWith("/")||t.image.startsWith("http")?(d(t.image),p(t.title),u(!1)):t.link&&window.open(t.link,"_blank")},children:"View Project →"})]})]},s)),a.length%3!=0&&Array.from({length:3-a.length%3}).map((t,s)=>e.jsx("div",{className:"project-card empty",style:{visibility:"hidden"}},`empty-${s}`))]}),n&&"undefined"!=typeof document&&s.createPortal(e.jsx("div",{className:"project-modal-backdrop "+(j?"closing":"opening"),onClick:g,role:"presentation",children:e.jsxs("div",{className:"project-modal "+(j?"closing":"opening"),role:"dialog","aria-modal":"true","aria-label":`${m} preview`,onClick:e=>e.stopPropagation(),children:[e.jsx("button",{type:"button",className:"project-modal-close",onClick:g,"aria-label":"Close image",children:"×"}),e.jsx("img",{src:n,alt:m,className:"project-modal-image"}),e.jsx("p",{className:"project-modal-caption",children:m})]})}),document.body)]})})};export{i as default};
